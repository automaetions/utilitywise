<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>UtilityWise Energy Analyzer</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

<style>
:root{
--green:#4CD137;
--dark:#0B1F3A;
--text:#1F2D3D;
--muted:#6B7B8C;
--card:#F3F7FA;
}

*{box-sizing:border-box;}

body{
margin:0;
font-family:'Inter',sans-serif;
background:white;
color:var(--text);
}

header{
text-align:center;
padding:30px 20px 10px;
}

header img{
height:55px;
}

.container{
max-width:900px;
margin:auto;
padding:20px;
}

.toggle{
display:flex;
justify-content:center;
margin:20px 0;
}

.toggle-wrapper{
background:#E9EEF3;
border-radius:30px;
padding:4px;
display:inline-flex;
}

.toggle-btn{
padding:10px 20px;
border-radius:30px;
cursor:pointer;
font-weight:600;
color:var(--muted);
}

.toggle-btn.active{
background:var(--green);
color:white;
}

.card{
background:var(--card);
border-radius:20px;
padding:25px;
margin-bottom:20px;
}

input{
width:100%;
padding:12px;
border-radius:14px;
border:1px solid #D9E3EC;
margin-top:8px;
font-size:16px;
}

button{
border:none;
border-radius:14px;
padding:14px;
font-weight:600;
cursor:pointer;
font-size:16px;
}

.primary{
background:var(--green);
color:white;
width:100%;
margin-top:20px;
}

.outline{
background:white;
border:2px solid var(--green);
color:var(--green);
width:100%;
margin-top:15px;
}

.slider-wrapper{
display:flex;
align-items:center;
gap:15px;
margin-top:10px;
}

.circle-btn{
width:40px;
height:40px;
border-radius:50%;
border:2px solid var(--green);
background:white;
color:var(--green);
display:flex;
align-items:center;
justify-content:center;
cursor:pointer;
font-size:18px;
}

.days{
display:flex;
justify-content:space-between;
margin-top:10px;
}

.day{
width:42px;
height:42px;
border-radius:50%;
border:2px solid var(--green);
display:flex;
align-items:center;
justify-content:center;
cursor:pointer;
font-weight:600;
}

.day.active{
background:var(--green);
color:white;
}

.result-grid{
display:grid;
grid-template-columns:1fr 1fr;
gap:20px;
margin-top:20px;
}

.result-card{
background:#E8F5EC;
border-radius:18px;
padding:25px;
text-align:center;
}

.result-card strong{
display:block;
margin-top:10px;
font-size:24px;
}

table{
width:100%;
border-collapse:collapse;
margin-top:10px;
font-size:13px;
}

th,td{
padding:8px;
border-bottom:1px solid #ddd;
text-align:center;
}

.hidden{
display:none;
}

@media(max-width:768px){
.result-grid{grid-template-columns:1fr;}
}
</style>
</head>

<body>

<header>
<img src="UtilityWise.png">
</header>

<div class="container">

<div class="toggle">
<div class="toggle-wrapper">
<div class="toggle-btn active" id="singleBtn">Single Appliance</div>
<div class="toggle-btn" id="multiBtn">Full Home Analyzer</div>
</div>
</div>

<!-- SINGLE MODE -->
<div id="singleMode">

<div class="card">
<label>Electricity Rate (₱ per kWh)</label>
<input type="number" id="rateSingle" value="13">

<label style="margin-top:20px;">Appliance Wattage</label>
<input type="number" id="wattsSingle" placeholder="Enter watts">

<h3 style="margin-top:25px;">Hours used per day</h3>

<div class="slider-wrapper">
<div class="circle-btn" onclick="changeHours(-1)">−</div>
<input type="range" id="hoursSingle" min="1" max="24" value="1">
<div class="circle-btn" onclick="changeHours(1)">+</div>
</div>

<div style="text-align:center;margin-top:10px;">
<strong id="hourDisplay">1</strong> hours
</div>

<h3 style="margin-top:25px;">Days used per week</h3>
<div class="days">
<div class="day">SU</div>
<div class="day active">M</div>
<div class="day active">T</div>
<div class="day active">W</div>
<div class="day active">TH</div>
<div class="day active">F</div>
<div class="day">S</div>
</div>

<h3 style="margin-top:25px;">Weeks used per month</h3>

<div style="margin-top:10px;">
<label><input type="radio" name="weeksSingle" value="1"> 1 week</label><br>
<label><input type="radio" name="weeksSingle" value="2"> 2 weeks</label><br>
<label><input type="radio" name="weeksSingle" value="3"> 3 weeks</label><br>
<label><input type="radio" name="weeksSingle" value="4" checked> 4 weeks</label>
</div>

<button class="primary" onclick="calculateSingle()">Calculate</button>

<div id="singleResult" class="hidden">
<div class="result-grid">
<div class="result-card">
<strong id="perHour"></strong>
</div>
<div class="result-card">
<strong id="perDay"></strong>
</div>
<div class="result-card">
<strong id="perWeek"></strong>
</div>
<div class="result-card">
<strong id="perMonth"></strong>
</div>
</div>
<button class="outline" onclick="resetSingle()">Compute Another</button>
</div>

</div>
</div>

<!-- MULTI MODE -->
<div id="multiMode" class="hidden">
<div class="card">
<label>Electricity Rate (₱ per kWh)</label>
<input type="number" id="rateMulti" value="13">

<table>
<thead>
<tr>
<th>W</th>
<th>Qty</th>
<th>Hrs</th>
<th></th>
</tr>
</thead>
<tbody id="multiTable"></tbody>
</table>

<button class="outline" onclick="addRow()">+ Add Appliance</button>
<button class="primary" onclick="calculateMulti()">Analyze Energy</button>

<div id="multiResult" class="hidden">
<h3>Total Monthly: <span id="multiMonthly"></span></h3>
<h3>Total Yearly: <span id="multiYearly"></span></h3>
</div>

</div>
</div>

</div>

<script>

// TOGGLE
const singleBtn=document.getElementById("singleBtn");
const multiBtn=document.getElementById("multiBtn");
const singleMode=document.getElementById("singleMode");
const multiMode=document.getElementById("multiMode");

singleBtn.onclick=()=>{
singleBtn.classList.add("active");
multiBtn.classList.remove("active");
singleMode.classList.remove("hidden");
multiMode.classList.add("hidden");
};

multiBtn.onclick=()=>{
multiBtn.classList.add("active");
singleBtn.classList.remove("active");
multiMode.classList.remove("hidden");
singleMode.classList.add("hidden");
};

// SINGLE MODE LOGIC
const hoursSlider=document.getElementById("hoursSingle");
const hourDisplay=document.getElementById("hourDisplay");

hoursSlider.oninput=()=>hourDisplay.innerText=hoursSlider.value;

function changeHours(val){
let newVal=Math.min(24,Math.max(1,parseInt(hoursSlider.value)+val));
hoursSlider.value=newVal;
hourDisplay.innerText=newVal;
}

document.querySelectorAll(".day").forEach(d=>{
d.onclick=()=>d.classList.toggle("active");
});

function calculateSingle(){
let rate=parseFloat(document.getElementById("rateSingle").value)||0;
let watts=parseFloat(document.getElementById("wattsSingle").value)||0;
let hours=parseFloat(hoursSlider.value)||0;
let weeks=parseFloat(document.querySelector("input[name=weeksSingle]:checked").value)||4;
let days=document.querySelectorAll(".day.active").length;

let perHour=(watts/1000)*rate;
let perDay=perHour*hours;
let perWeek=perDay*days;
let perMonth=perWeek*weeks;

function f(n){return "₱"+n.toLocaleString("en-PH",{minimumFractionDigits:2});}

document.getElementById("perHour").innerText=f(perHour);
document.getElementById("perDay").innerText=f(perDay);
document.getElementById("perWeek").innerText=f(perWeek);
document.getElementById("perMonth").innerText=f(perMonth);

document.getElementById("singleResult").classList.remove("hidden");
}

function resetSingle(){
document.getElementById("singleResult").classList.add("hidden");
document.getElementById("wattsSingle").value="";
}

// MULTI MODE
const multiTable=document.getElementById("multiTable");

function addRow(){
let tr=document.createElement("tr");
tr.innerHTML=`
<td><input type="number" placeholder="Watts"></td>
<td><input type="number" value="1"></td>
<td><input type="number" value="1"></td>
<td><button onclick="this.closest('tr').remove()">X</button></td>
`;
multiTable.appendChild(tr);
}

function calculateMulti(){
let rate=parseFloat(document.getElementById("rateMulti").value)||0;
let total=0;

multiTable.querySelectorAll("tr").forEach(row=>{
let inputs=row.querySelectorAll("input");
let watts=parseFloat(inputs[0].value)||0;
let qty=parseFloat(inputs[1].value)||0;
let hrs=parseFloat(inputs[2].value)||0;
total+=((watts/1000)*hrs*30*qty*rate);
});

function f(n){return "₱"+n.toLocaleString("en-PH",{minimumFractionDigits:2});}

document.getElementById("multiMonthly").innerText=f(total);
document.getElementById("multiYearly").innerText=f(total*12);
document.getElementById("multiResult").classList.remove("hidden");
}

addRow();

</script>

</body>
</html>
